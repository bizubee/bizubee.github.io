
import {EventObservable as Stream} from observation

const ticker = new Stream(ctrl)

ctrl(send, close) => {
	var
  ,	i = 0
  ,	interval = window.setInterval(tick, 1000)
    
  tick() => {
    if i < 20 do
      send(i)
      i += 1
    else
      window.clearInterval(interval)
      close()
  }
}


(() => ~ {
  for i on ticker do
    # show squares of i
    console.log("the square of ${i} is ${i ^ 2}")
})()
